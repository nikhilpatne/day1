---
  - name: Provision an  Instance
    hosts: localhost
    connection: local
    gather_facts: False

    vars:
       provider : "{{ provider }}"

    roles:

    - { role: azure , when: provider == "azure" }
    - { role: aws , when: provider == "aws" }
    - { role: gcp , when: provider == "gcp" }
    - { role: vmware_vsphere , when: provider == "vmware_vsphere" }



    
 



  
